{% extends "base.html" %}
{% block title %}{{ 'Nuevo producto' if modo=='crear' else 'Editar producto' }}{% endblock %}
{% block contenido %}
<div class="row justify-content-center mt-4">
  <div class="col-md-8 col-lg-6">
    <h2>{{ '➕ Nuevo Producto' if modo=='crear' else '✏️ Editar Producto' }}</h2>
    <form method="post" novalidate class="p-4 border rounded bg-light">
      {{ form.hidden_tag() }}
      
      <div class="mb-3">
        {{ form.nombre.label(class="form-label") }}
        {{ form.nombre(class="form-control") }}
        {% for e in form.nombre.errors %}<div class="text-danger small">• {{ e }}</div>{% endfor %}
      </div>

      <div class="mb-3">
        {{ form.cantidad.label(class="form-label") }}
        {{ form.cantidad(class="form-control", type="number", min="0") }}
        {% for e in form.cantidad.errors %}<div class="text-danger small">• {{ e }}</div>{% endfor %}
      </div>

      <div class="mb-3">
        {{ form.precio.label(class="form-label") }}
        {{ form.precio(class="form-control", type="number", step="0.01", min="0") }}
        {% for e in form.precio.errors %}<div class="text-danger small">• {{ e }}</div>{% endfor %}
      </div>

      <div class="mb-3">
        {{ form.id_categoria.label(class="form-label") }}
        {{ form.id_categoria(class="form-control") }}
        {% for e in form.id_categoria.errors %}<div class="text-danger small">• {{ e }}</div>{% endfor %}
      </div>

      <div class="d-grid gap-2 d-md-flex mt-4">
        {{ form.submit(class="btn btn-success") }}
        <a href="{{ url_for('listar_productos') }}" class="btn btn-secondary">Cancelar</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
